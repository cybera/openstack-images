{
  "variables": {
    "source_image": "",
    "default_network": ""
  },
  "builders": [{
    "type": "openstack",
    "source_image": "{{ user `source_image` }}",
    "ssh_username": "centos",
    "image_name": "PackerCentOS8",
    "flavor": "2",
    "networks": "{{ user `default_network` }}",
    "ssh_interface": "default",
    "ssh_ip_version": "6",
    "ssh_pty": "true"
  }],
  "provisioners": [{
    "type": "shell",
    "inline": ["sleep 5"]
  },
  {
    "type": "file",
    "source": "../packer_files/enableAutoUpdate.sh",
    "destination": "/home/centos/enableAutoUpdate"
  },
  {
    "type": "file",
    "source": "../packer_files/installOpenStackTools.sh",
    "destination": "/home/centos/installOpenStackTools"
  },
  {
    "type": "file",
    "source": "../packer_files/motd.redhat",
    "destination": "/home/centos/motd"
  },
  {
    "type": "shell",
    "script": "../packer_files/RedHatBootstrap.sh",
    "pause_before": "1s"
  }]
}

